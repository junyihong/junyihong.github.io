---
title: "게시판 서비스 만들기 - 게시판 뷰 기본 골격 작성"
categories:
  - springboot
tags:
  - 스프링
  - 부트
  - 프레임워크
  - IntelliJ
  - 게시판
  - 설계
toc: true
toc_sticky: true
toc_label: "게시판 서비스 만들기 - 게시판 뷰 기본 골격 작성"
date: 2023-09-26
last_modified_at: 2023-09-26
---

# 게시판 서비스 만들기 - 게시판 뷰 기본 골격 작성

<br/>
<br/>

## config/SecurityConfig.java

```java
package com.junyihong.boardproject.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.security.config.annotation.web.builders.HttpSecurity;
import org.springframework.security.web.SecurityFilterChain;

@Configuration
public class SecurityConfig {

    @Bean
    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
        return http
                .authorizeHttpRequests(auth -> auth.anyRequest().permitAll())
                .formLogin().and()
                .build();
    }

}
```

- 아직 테스트 개발 단계이고, 인증 기능 구현 단계에 이르지 않았으므로 모든 인증 설정을 오픈해둡니다.
- 그리고 폼 로그인을 활성화해서 로그인 뷰가 그려지게끔 해놓았습니다.
- Spring Boot 2.7의 시큐리티 설정 방법을 활용하였습니다.

## controller/AuthControllerTest.java

```java
import com.junyihong.boardproject.config.SecurityConfig;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;
import org.springframework.context.annotation.Import;
import org.springframework.http.MediaType;
import org.springframework.test.web.servlet.MockMvc;

import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.content;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;

@DisplayName("View 컨트롤러 - 인증")
@Import(SecurityConfig.class)
@WebMvcTest
public class AuthControllerTest {

    private final MockMvc mvc;

    public AuthControllerTest(@Autowired MockMvc mvc) {
        this.mvc = mvc;
    }

    @DisplayName("[view][GET] 로그인 페이지 - 정상 호출")
    @Test
    public void givenNothing_whenTryingToLogIn_thenReturnsLogInView() throws Exception {
        // Given

        // When & Then
        mvc.perform(get("/login"))
                .andExpect(status().isOk())
                .andExpect(content().contentTypeCompatibleWith(MediaType.TEXT_HTML));
    }

}
```

- 스프링 시큐리티가 자동 생성해준 `/login` 컨트롤러를 테스트합니다.
- 모든 컨트롤러가 시큐리티 설정을 부를 수 있도록 `@Import(SecurityConfig.class)` 를 추가했습니다.

## /resources/templates/articles/index.html

```html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="JUNYIHONG" />
    <title>게시판 페이지</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <link href="/css/search-bar.css" rel="stylesheet" />
  </head>

  <body>
    <header id="header"></header>

    <main class="container">
      <div class="row">
        <div class="card card-margin search-form">
          <div class="card-body p-0">
            <form id="card search-form">
              <div class="row">
                <div class="col-12">
                  <div class="row no-gutters">
                    <div class="col-lg-3 col-md-3 col-sm-12 p-0">
                      <label for="search-type" hidden>검색 유형</label>
                      <select class="form-control" id="search-type">
                        <option>제목</option>
                        <option>본문</option>
                        <option>id</option>
                        <option>닉네임</option>
                        <option>해시태그</option>
                      </select>
                    </div>
                    <div class="col-lg-8 col-md-6 col-sm-12 p-0">
                      <label for="search-value" hidden>검색어</label>
                      <input
                        type="text"
                        placeholder="검색어..."
                        class="form-control"
                        id="search-value"
                        name="search-value"
                      />
                    </div>
                    <div class="col-lg-1 col-md-3 col-sm-12 p-0">
                      <button type="submit" class="btn btn-base">
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          width="24"
                          height="24"
                          viewBox="0 0 24 24"
                          fill="none"
                          stroke="currentColor"
                          stroke-width="2"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          class="feather feather-search"
                        >
                          <circle cx="11" cy="11" r="8"></circle>
                          <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <table class="table">
        <thead>
          <tr>
            <th class="col-6">제목</th>
            <th class="col-2">해시태그</th>
            <th class="col">작성자</th>
            <th class="col">작성일</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>첫글</td>
            <td>#java</td>
            <td>junyihong</td>
            <td>2022-01-01</td>
          </tr>
          <tr>
            <td>두번째글</td>
            <td>#spring</td>
            <td>junyihong</td>
            <td>2022-01-02</td>
          </tr>
          <tr>
            <td>세번째글</td>
            <td>#java</td>
            <td>junyihong</td>
            <td>2022-01-03</td>
          </tr>
        </tbody>
      </table>

      <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
          <li class="page-item"><a class="page-link" href="#">Previous</a></li>
          <li class="page-item"><a class="page-link" href="#">1</a></li>
          <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">3</a></li>
          <li class="page-item"><a class="page-link" href="#">Next</a></li>
        </ul>
      </nav>
    </main>

    <footer id="footer"></footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
```

- 게시글 전체글 조회 페이지인 index.html 입니다.
- 기본 뼈대를 작성하고 부트스트랩 예제를 적용하였습니다.

## /resources/static/css/search-bar.css

```css
/* 검색창 */
.search-form {
  width: 80%;
  margin: 0 auto;
  margin-top: 1rem;
}

.search-form input {
  height: 100%;
  background: transparent;
  border: 0;
  display: block;
  width: 100%;
  padding: 1rem;
  height: 100%;
  font-size: 1rem;
}

.search-form select {
  background: transparent;
  border: 0;
  padding: 1rem;
  height: 100%;
  font-size: 1rem;
}

.search-form select:focus {
  border: 0;
}

.search-form button {
  height: 100%;
  width: 100%;
  font-size: 1rem;
}

.search-form button svg {
  width: 24px;
  height: 24px;
}

.card-margin {
  margin-bottom: 1.875rem;
}

@media (min-width: 992px) {
  .col-lg-2 {
    flex: 0 0 16.66667%;
    max-width: 16.66667%;
  }
}

.card {
  border: 0;
  box-shadow: 0px 0px 10px 0px rgba(82, 63, 105, 0.1);
  -webkit-box-shadow: 0px 0px 10px 0px rgba(82, 63, 105, 0.1);
  -moz-box-shadow: 0px 0px 10px 0px rgba(82, 63, 105, 0.1);
  -ms-box-shadow: 0px 0px 10px 0px rgba(82, 63, 105, 0.1);
}
.card {
  position: relative;
  display: flex;
  flex-direction: column;
  min-width: 0;
  word-wrap: break-word;
  background-color: #ffffff;
  background-clip: border-box;
  border: 1px solid #e6e4e9;
  border-radius: 8px;
}
```

- search-bar에 대한 css 코드입니다.

## /resources/templates/articles/detail.html

```html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <meta name="author" content="JUNYIHONG" />
    <title>게시글 페이지</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <header id="header"></header>

    <main class="container">
      <header class="py-5 text-center">
        <h1>첫번째 글</h1>
      </header>

      <div class="row g-5">
        <section class="col-md-5 col-lg-4 order-md-last">
          <aside>
            <p><span class="nick-name">junyihong</span></p>
            <p>
              <a class="u-url" rel="me" href="mailto:junyihong@naver.com"
                >junyihong@naver.com</a
              >
            </p>
            <p>
              <time datetime="2022-01-01T00:00:00">2022-01-01</time>
            </p>
            <p>#java</p>
          </aside>
        </section>

        <article class="col-md-7 col-lg-8">
          <p>본문<br /><br /></p>
        </article>
      </div>

      <div class="row g-5">
        <section>
          <form class="row g-3">
            <div class="col-8">
              <label for="comment-textbox" hidden>댓글</label>
              <textarea
                class="form-control"
                id="comment-textbox"
                placeholder="댓글 쓰기.."
                rows="3"
              ></textarea>
            </div>
            <div class="col-auto">
              <label for="comment-submit" hidden>댓글 쓰기</label>
              <button class="btn btn-primary" id="comment-submit" type="submit">
                쓰기
              </button>
            </div>
          </form>

          <ul>
            <li>
              <div>
                <time><small>2022-01-01</small></time>
                <strong>junyihong</strong>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.<br />
                  Lorem ipsum dolor sit amet
                </p>
              </div>
            </li>
            <li>
              <div>
                <time><small>2022-01-01</small></time>
                <strong>junyihong</strong>
                <p>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit.<br />
                  Lorem ipsum dolor sit amet
                </p>
              </div>
            </li>
          </ul>
        </section>
      </div>

      <div class="row g-5">
        <nav aria-label="Page navigation example">
          <ul class="pagination">
            <li class="page-item">
              <a class="page-link" href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo; prev</span>
              </a>
            </li>
            <li class="page-item">
              <a class="page-link" href="#" aria-label="Next">
                <span aria-hidden="true">next &raquo;</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </main>

    <footer id="footer"></footer>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
```

- 게시글 상세 페이지에 해당하는 detail.html 입니다.
- 마찬가지로, 기본 뼈대에 부트스트랩 요소들을 적용시켜줍니다.

## /resources/templates/footer.html

```html
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Footer template</title>
  </head>

  <body>
    <footer
      class="container d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top"
    >
      <p class="col-md-4 mb-0 text-muted">&copy; 2023 JUNYIHONG.</p>

      <ul class="nav col-md-4 justify-content-end">
        <li class="nav-item">
          <a href="/" class="nav-link px-2 text-muted">Home</a>
        </li>
      </ul>
    </footer>
  </body>
</html>
```

## /resources/templates/header.html

```html
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
  </head>
  <body>
    <header class="p-3 bg-dark text-white">
      <div class="container">
        <div
          class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"
        >
          <ul
            class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0"
          >
            <li><a href="/" class="nav-link px-2 text-secondary">Home</a></li>
          </ul>

          <div class="text-end">
            <button type="button" class="btn btn-outline-light me-2">
              Login
            </button>
            <button type="button" class="btn btn-warning">Sign-up</button>
          </div>
        </div>
      </div>
    </header>
  </body>
</html>
```

- 푸터와 헤더에도 부트스트랩 예제를 적용해줍니다.
  <br/>

<hr/>
